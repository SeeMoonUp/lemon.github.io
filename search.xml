<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[mysql sum 返回为null]]></title>
      <url>http://SeeMoonUp.github.io/2017/01/22/mysql/sumReturn3/</url>
      <content type="html"><![CDATA[<h5 id="问题描述："><a href="#问题描述：" class="headerlink" title="问题描述："></a>问题描述：</h5><ol>
<li>使用mysql进行sum求和</li>
<li>java使用int类型来接收</li>
<li>当sum()where条件后没有满足的数据，返回null</li>
<li>java转换为int的时候 报错如下：<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">org.apache.ibatis.binding.BindingException: Mapper method 'getShopTotalUseProfit' (interface cc.laowantong.dao.mapper.MallOrderMapper) attempted to return null from a method with a primitive return type (int).</div><div class="line">	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:42)</div><div class="line">	at com.sun.proxy.$Proxy78.getShopTotalUseProfit(Unknown Source)</div><div class="line">	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</div><div class="line">	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</div><div class="line">	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</div><div class="line">	at java.lang.reflect.Method.invoke(Method.java:498)</div></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h5><ol>
<li>使用函数coalesce(arg1,arg2,…)</li>
<li>函数解释：返回参数中第一个非空的参数</li>
<li>最终的sql为： <code>SELECT COALESCE(SUM(total),0)  FROM test_table</code></li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[mysql sum 返回为null]]></title>
      <url>http://SeeMoonUp.github.io/2017/01/22/mysql/sumReturn/</url>
      <content type="html"><![CDATA[<h5 id="问题描述："><a href="#问题描述：" class="headerlink" title="问题描述："></a>问题描述：</h5><ol>
<li>使用mysql进行sum求和</li>
<li>java使用int类型来接收</li>
<li>当sum()where条件后没有满足的数据，返回null</li>
<li>java转换为int的时候 报错如下：<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">org.apache.ibatis.binding.BindingException: Mapper method 'getShopTotalUseProfit' (interface cc.laowantong.dao.mapper.MallOrderMapper) attempted to return null from a method with a primitive return type (int).</div><div class="line">	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:42)</div><div class="line">	at com.sun.proxy.$Proxy78.getShopTotalUseProfit(Unknown Source)</div><div class="line">	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</div><div class="line">	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</div><div class="line">	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</div><div class="line">	at java.lang.reflect.Method.invoke(Method.java:498)</div></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h5><ol>
<li>使用函数coalesce(arg1,arg2,…)</li>
<li>函数解释：返回参数中第一个非空的参数</li>
<li>最终的sql为： <code>SELECT COALESCE(SUM(total),0)  FROM test_table</code></li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[mysql sum 返回为null]]></title>
      <url>http://SeeMoonUp.github.io/2017/01/21/mysql/sumReturnNull/</url>
      <content type="html"><![CDATA[<h5 id="问题描述："><a href="#问题描述：" class="headerlink" title="问题描述："></a>问题描述：</h5><ol>
<li>使用mysql进行sum求和</li>
<li>java使用int类型来接收</li>
<li>当sum()where条件后没有满足的数据，返回null</li>
<li>java转换为int的时候 报错如下：<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">org.apache.ibatis.binding.BindingException: Mapper method 'getShopTotalUseProfit' (interface cc.laowantong.dao.mapper.MallOrderMapper) attempted to return null from a method with a primitive return type (int).</div><div class="line">	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:42)</div><div class="line">	at com.sun.proxy.$Proxy78.getShopTotalUseProfit(Unknown Source)</div><div class="line">	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</div><div class="line">	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</div><div class="line">	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</div><div class="line">	at java.lang.reflect.Method.invoke(Method.java:498)</div></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h5><ol>
<li>使用函数coalesce(arg1,arg2,…)</li>
<li>函数解释：返回参数中第一个非空的参数</li>
<li>最终的sql为： <code>SELECT COALESCE(SUM(total),0)  FROM test_table</code></li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[晴雯]]></title>
      <url>http://SeeMoonUp.github.io/2017/01/21/stone/Qingwen/</url>
      <content type="html"><![CDATA[<h3 id="关于晴雯"><a href="#关于晴雯" class="headerlink" title="关于晴雯"></a>关于晴雯</h3><h4 id="判词"><a href="#判词" class="headerlink" title="判词"></a>判词</h4><blockquote>
<p>霁月难逢，彩云易散。<br>心比天高，身为下贱。<br>风流灵巧招人怨，寿夭多因诽谤生。<br>多情公子空牵念。2</p>
</blockquote>
<h4 id="主要事迹"><a href="#主要事迹" class="headerlink" title="主要事迹"></a>主要事迹</h4><ol>
<li>病补雀金裘</li>
<li>撕扇</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[使用bootstrap-treeview插件实现灵活配置快递模板]]></title>
      <url>http://SeeMoonUp.github.io/2017/01/20/shipTemplate/</url>
      <content type="html"><![CDATA[<p>使用bootstrap-treeview插件实现灵活配置快递模板</p>
<h5 id="使用bootstrap-treeview插件实现灵活配置快递模板"><a href="#使用bootstrap-treeview插件实现灵活配置快递模板" class="headerlink" title="使用bootstrap-treeview插件实现灵活配置快递模板"></a>使用bootstrap-treeview插件实现灵活配置快递模板</h5><h6 id="开发条件："><a href="#开发条件：" class="headerlink" title="开发条件："></a>开发条件：</h6><p>安装bootstrap-treeview插件，具体操作见：<br><a href="http://www.bootcdn.cn/bootstrap-treeview/readme/" target="_blank" rel="external">bootstrap-treeview</a></p>
<h6 id="实现功能："><a href="#实现功能：" class="headerlink" title="实现功能："></a>实现功能：</h6><blockquote>
<p>1.一个模板可指定子模板（包含多个地区、价格等）<br>2.编辑子模板地区时，动态改变tree的地区（其他子模板选中的地区disabled,此模板之前选中的地区默认选中）<br>3.tree选择时，父级和子集的联动（如父级选中子集全部选中，取消一个子集的时候，父级也取消）<br>4.维护子模板数据（展示选中的地区格式 如（安徽、北京（昌平 回龙观）） 存储选中节点）</p>
</blockquote>
<p>其他说明</p>
<blockquote>
<p>数据源格式：[{text:’展示名称1’,nodes:[{text:’子级’}]},{text:’展示名称2’}]<br>bootstrap-trview会动态的为数据源添加nodeId,parentId这两个属性（很重要的属性），可自定义添加其他属性用来标记当前节点</p>
</blockquote>
<hr>
<p>编辑过程中维护的数据</p>
<blockquote>
<p>数组对象templates包含：<br>1.模板的名称<br>2.每个子模板对应的 价格 件数 排序<br>3.子模板的地区Id、节点id、展示名称</p>
</blockquote>
<p>实现上述数据需要维护的数组和对象<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var templates = [];    //保存最终储存的数据</div><div class="line">var selectedNodeId = [];    //用来存储单个模板选择的nodeId 用于展示</div><div class="line">var editingTemplate = null;    //用于标记正在处理的是第几个地区模板</div><div class="line">var selectedAreaId = [];  //保存当前选择的地区</div><div class="line">var selectedAreaName = []; //保存当前选中的地区名称用于展示</div><div class="line">var defaultData = [];//数据源</div></pre></td></tr></table></figure></p>
<hr>
<h6 id="实现功能一"><a href="#实现功能一" class="headerlink" title="实现功能一"></a>实现功能一</h6><blockquote>
<p>一个模板指定多个子模板<br>主要是维护templates[]数组 push进入多个template即可 下面会详细讲解如何维护template</p>
</blockquote>
<hr>
<h6 id="实现功能二（动态修改tree）"><a href="#实现功能二（动态修改tree）" class="headerlink" title="实现功能二（动态修改tree）"></a>实现功能二（动态修改tree）</h6><blockquote>
<p>原理：通过维护的templates和editingTemplate 拿到当前编辑的子模板数据和其他子模板数据，将当前模板的node默认选中，其他的数据置为disabled</p>
</blockquote>
<p>编辑子模板</p>
<blockquote>
<p>uncheckAll方法：<code>$(&#39;#tree&#39;).treeview(&#39;uncheckAll&#39;, { silent: true });</code><br>disAbled方法：<code>$(&#39;#tree&#39;).treeview(&#39;disableNode&#39;, [ nodeId, { silent: true } ]);</code><br>默认选中的方法<code>$(&#39;#tree&#39;).treeview(&#39;checkNode&#39;, [ template.nodeIds[i], { silent: true } ]);</code></p>
</blockquote>
<hr>
<h6 id="实现功能三：父级和子级的联动（主要操作在点击选中和取消选中上面-来分析两种情况）"><a href="#实现功能三：父级和子级的联动（主要操作在点击选中和取消选中上面-来分析两种情况）" class="headerlink" title="实现功能三：父级和子级的联动（主要操作在点击选中和取消选中上面 来分析两种情况）"></a>实现功能三：父级和子级的联动（主要操作在点击选中和取消选中上面 来分析两种情况）</h6><p>第一种 选中</p>
<blockquote>
<p>1.选择父节点 将子节点全部选中<br>根据父节点返回的nodes得到所有的子节点 并且将子节点全部选中<br>选中的方法<code>$(&#39;#tree&#39;).treeview(&#39;checkNode&#39;, [ nodeId, { silent: true } ]);</code><br>可以封装为一个方法selectAllChildren()</p>
<p>2.如果选中的为子节点<br>判断父节点中的子节点是否全部选中如果全部选中则将父节点选中</p>
</blockquote>
<p>第二种 取消</p>
<blockquote>
<p>1.选中的为父节点，将所有的子节点取消选中<br>取消选中的方法<code>$(&#39;#tree&#39;).treeview(&#39;uncheckNode&#39;, [ nodeId, { silent: true } ]);</code></p>
<p>2选中的为子节点，判断父节点中的子节点是否选中 如果选中 则取消选中</p>
</blockquote>
<p>判断是否选中的方法</p>
<blockquote>
<p><code>$(&#39;#tree&#39;).treeview(&#39;selectNode&#39;, [ nodeId, { silent: true } ]);</code><br>根据获取到元素获取是否选中</p>
</blockquote>
<hr>
<h6 id="实现功能四（维护template数据）"><a href="#实现功能四（维护template数据）" class="headerlink" title="实现功能四（维护template数据）"></a>实现功能四（维护template数据）</h6><blockquote>
<p>1.正在编辑的editingTemplate<br>2.当前层级选中的所有selectedNodeId<br>3.展示需要的字符串数组selectedNodeName<br>3.存储字符串数组selectedAreaId对应数据库中的areaId<br>4.将上面的三个数组存入template，并将template push进入templates</p>
</blockquote>
<p>逻辑</p>
<blockquote>
<p>1.获取到所有的被选中的元素<br>2.遍历所有的元素 判断当前节点是否有nodes（即子元素），如果有则直接操作，并改变index，将其子元素全部跳过，将节点名称保存进areaNames，如”安徽”<br>3.遍历所有的元素 如果没有子元素，取出父级元素如”北京(“,将node元素添加至后面，如”北京(昌平区”,判断下一个元素的父节点是否发生改变，如果发生改变则结束维护字符串为”北京（昌平区）”，并将其添加至areaNames，继续遍历下一个节点<br>4.其他三个数组在遍历的同时维护</p>
</blockquote>
<hr>
<h6 id="实现结果展示："><a href="#实现结果展示：" class="headerlink" title="实现结果展示："></a>实现结果展示：</h6><p>1.主页面展示：<br><img src="http://upload-images.jianshu.io/upload_images/1329783-9384c647d523f55c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="主页面"><br>2.tree展示：<br><img src="http://upload-images.jianshu.io/upload_images/1329783-e791fb21521652f2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/540" alt="选择地区.png"></p>
<hr>
<h6 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h6><blockquote>
<p>本文提供简单的实现方案思路，具体的代码根据业务实现，不足之处不能动态处理数据源，优点bootstrap开放的api接口较多，可自定义实现。</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hello World]]></title>
      <url>http://SeeMoonUp.github.io/2017/01/20/hello-world/</url>
      <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[About Me]]></title>
      <url>http://SeeMoonUp.github.io/2017/01/20/about/</url>
      <content type="html"><![CDATA[<blockquote>
<p>我的名字</p>
</blockquote>
<p>李蒙</p>
<blockquote>
<p>简介</p>
</blockquote>
<p>喜上红楼</p>
<p>爱住西厢</p>
<blockquote>
<p>最近痴迷的语句</p>
</blockquote>
<p>撇下半天风韵 拾得万种思量</p>
<blockquote>
<p>程序员</p>
</blockquote>
<p>java</p>
]]></content>
    </entry>
    
  
  
</search>
